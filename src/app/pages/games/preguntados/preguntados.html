<main class="w-full min-h-screen flex items-center justify-center p-6 bg-blue-100">
  <section class="w-full max-w-xl bg-white rounded-2xl shadow-2xl border border-blue-100 p-8 text-center">
    @if (!inGame()) {
        <h1 class="text-4xl tracking-widest uppercase font-bold text-blue-900">Preguntados</h1>
        <p class="mt-2 text-sm text-gray-500">Selecciona una categor√≠a</p>
        <div class="flex justify-center m-2">
          <img class="size-30 rounded-2xl" src="../../../../assets/games/preguntados.png" alt="">
        </div>
    
        <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4 font-semibold">
          @for (category of categories; track $index) {
            <button
            (click)="selectCategory($index)"
            class="h-12 rounded-xl bg-blue-900 text-white shadow-md active:scale-95 transition cursor-pointer capitalize"
            appSelectedCategory
            [index]="$index">
            {{category}}
          </button>
          }
        </div>
    
        <button (click)="startGame()" class="mt-8 w-full py-3 rounded-full font-bold uppercase text-2xl bg-yellow-500 text-blue-900 tracking-wider shadow-lg border-2 border-white hover:bg-yellow-400 active:scale-95 transition cursor-pointer">
          Jugar
        </button>
    } @else {
      <h1 class="text-4xl tracking-widest uppercase font-bold text-blue-900 mb-5">Preguntados</h1>
      <p class="font-bold">Categoria: <span class="font-normal capitalize">{{categories[selectedCategoryIndex()]}}</span></p>
      <div class="grid grid-cols-4 m-3">
        <p>Puntos: <span class="text-orange-400 font-bold">{{points()}}</span></p>
        <p>Errores: <span class="text-red-500 font-bold">{{incorrectAnswers()}}/6</span></p>
        <p>Correctas: <span class="text-green-600 font-bold">{{correctAnswers()}}</span></p>
        <p>Tiempo: <span class="text-violet-500 font-bold">{{timer()}}s</span></p>
      </div>
        @if (question()) {
          <div class="grid grid-cols-2 gap-5">
            <div class="col-span-2 rounded-xl border border-blue-200 bg-blue-50 p-5">
              <p class="text-lg sm:text-xl font-semibold text-blue-900">{{ question()?.pregunta }}</p>
            </div>
            @for (option of question()?.opciones; track $index) {
              <button
                (click)="validateSelectedOption($index)"
                class="w-full h-14 rounded-xl bg-blue-800 text-white font-semibold shadow-md cursor-pointer border border-blue-900/10 active:scale-95 transition text-sm sm:text-base px-4 disabled:not-pointer-none"
                appSelectedAnswer [index]="$index"
                [disabled]="!inParty()"
                >
                {{ option }}
              </button>
            }
          </div>
        } @else {
          @if (question() === null && correctAnswers() > incorrectAnswers()) {
            <p>Ganaste el preguntados :D</p>
          } @else {
            <p>Cargando...</p>
          }
        }
        @if (gameover()) {
          <button (click)="restartGame()" class="bg-red-400 font-bold text-white uppercase text-2xl py-2 px-5 rounded-2xl mt-5 cursor-pointer active:scale-95 disabled:bg-gray-300" appScaleBtnDirective>Reiniciar</button>
        } @else {
          <button (click)="nextQuestion()" [disabled]="inParty()" class="bg-yellow-500 font-bold text-white uppercase text-2xl py-2 px-5 rounded-2xl mt-5 cursor-pointer active:scale-95 disabled:bg-gray-300" appScaleBtnDirective>Siguiente</button>
        }
    }
  </section>
</main>
